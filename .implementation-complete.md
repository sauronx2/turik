# ‚úÖ –ü–æ–≤–Ω–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å + –ú–µ—Ä–µ–∂–∞

## Branch: `feature/full-persistence-and-networking`

## –©–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:

### 1. üíæ –ü–æ–≤–Ω–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö

–¢–µ–ø–µ—Ä **–í–°–Ø —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –Ω–∞ –¥–∏—Å–∫** —ñ –≤—ñ–¥–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É:

#### –§–∞–π–ª–∏:
```
server/data/
  ‚îú‚îÄ‚îÄ users.json          # –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ + —ó—Ö –±–∞–ª–∞–Ω—Å–∏
  ‚îú‚îÄ‚îÄ tournament.json     # –°—Ç–∞–Ω —Ç—É—Ä–Ω—ñ—Ä—É (—Ö—Ç–æ –¥–µ, —Ö—Ç–æ –ø–µ—Ä–µ–º—ñ–≥)
  ‚îú‚îÄ‚îÄ bets.json          # –ê–∫—Ç–∏–≤–Ω—ñ —Å—Ç–∞–≤–∫–∏
  ‚îî‚îÄ‚îÄ chat.json          # –Ü—Å—Ç–æ—Ä—ñ—è —á–∞—Ç—É (–æ—Å—Ç–∞–Ω–Ω—ñ 100 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å)
```

#### –©–æ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è:
- ‚úÖ **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ** - –ª–æ–≥—ñ–Ω–∏, –ø–∞—Ä–æ–ª—ñ, –±–∞–ª–∞–Ω—Å–∏
- ‚úÖ **–¢—É—Ä–Ω—ñ—Ä** - –ø–æ–∑–∏—Ü—ñ—ó –≥—Ä–∞–≤—Ü—ñ–≤, –ø–µ—Ä–µ–º–æ–∂—Ü—ñ, –ø–æ—Ç–æ—á–Ω–∏–π —Ä–∞—É–Ω–¥
- ‚úÖ **–°—Ç–∞–≤–∫–∏** - –≤—Å—ñ –∞–∫—Ç–∏–≤–Ω—ñ —Å—Ç–∞–≤–∫–∏
- ‚úÖ **–ß–∞—Ç** - –æ—Å—Ç–∞–Ω–Ω—ñ 100 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è:
- –ü–æ—Å–ª–µ –∫–æ–∂–Ω–æ—ó —Å—Ç–∞–≤–∫–∏
- –ü–æ—Å–ª–µ –∫–æ–∂–Ω–æ–≥–æ –º–∞—Ç—á—É
- –ü–æ—Å–ª–µ –∫–æ–∂–Ω–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ —á–∞—Ç—ñ
- –ü–æ—Å–ª–µ –∑–º—ñ–Ω–∏ –±–∞–ª–∞–Ω—Å—É
- –ü–æ—Å–ª–µ –ø–æ–≤–Ω–æ–≥–æ —Ä–µ—Å–µ—Ç—É

### 2. üåê –ú–µ—Ä–µ–∂–µ–≤–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

#### Backend:
- –°–ª—É—Ö–∞—î –Ω–∞ `0.0.0.0:3000` (–¥–æ—Å—Ç—É–ø–Ω–∏–π –∑ –º–µ—Ä–µ–∂—ñ)
- CORS –¥–æ–∑–≤–æ–ª—è—î –≤—Å—ñ origins
- –ü–æ—Ä—Ç –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: `3000` (–º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ —á–µ—Ä–µ–∑ `PORT` env var)

#### Frontend:
- Vite dev server: `0.0.0.0:5173` (–¥–æ—Å—Ç—É–ø–Ω–∏–π –∑ –º–µ—Ä–µ–∂—ñ)
- –ü–æ—Ä—Ç –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: `5173`

#### Electron:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—î backend –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î –ª–æ–∫–∞–ª—å–Ω–∏–π IP
- –ü–æ–∫–∞–∑—É—î –∞–¥—Ä–µ—Å—É –≤ NetworkInfo –±–µ–∑ –≥–∞–π–¥—ñ–≤

### 3. üì° –ü–æ–∫—Ä–∞—â–µ–Ω–∏–π NetworkInfo

–¢–µ–ø–µ—Ä **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ** –ø–æ–∫–∞–∑—É—î IP –∞–¥—Ä–µ—Å—É:

**–í Electron:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î –ª–æ–∫–∞–ª—å–Ω–∏–π IP —á–µ—Ä–µ–∑ `electronAPI.getLocalIP()`
- –ü–æ–∫–∞–∑—É—î –≥–æ—Ç–æ–≤—É –∞–¥—Ä–µ—Å—É: `http://192.168.x.x:5173`
- –ö–Ω–æ–ø–∫–∞ "–ö–æ–ø—ñ—é–≤–∞—Ç–∏ –∞–¥—Ä–µ—Å—É"

**–í –≤–µ–±-–≤–µ—Ä—Å—ñ—ó:**
- –Ø–∫—â–æ –∑–∞–ø—É—â–µ–Ω–æ –Ω–∞ –º–µ—Ä–µ–∂–µ–≤–æ–º—É IP - –ø–æ–∫–∞–∑—É—î –∞–¥—Ä–µ—Å—É
- –Ø–∫—â–æ –Ω–∞ localhost - –ø–æ–∫–∞–∑—É—î –≥–∞–π–¥ —è–∫ –∑–Ω–∞–π—Ç–∏ IP

## –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:

### –°—Ü–µ–Ω–∞—Ä—ñ–π 1: Electron —è–∫ —Ö–æ—Å—Ç

1. **–ê–¥–º—ñ–Ω –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î DMG** –Ω–∞ Mac
2. **–í—ñ–¥–∫—Ä–∏–≤–∞—î –¥–æ–¥–∞—Ç–æ–∫**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è backend (–ø–æ—Ä—Ç 3000)
   - –ó–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –≤—Å—ñ –¥–∞–Ω—ñ –∑ —Ñ–∞–π–ª—ñ–≤ (users, tournament, bets, chat)
   - –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è IP –∞–¥—Ä–µ—Å–∞ –¥–ª—è —à–∞—Ä—ñ–Ω–≥—É
3. **–Ü–Ω—à—ñ –ø—ñ–¥–∫–ª—é—á–∞—é—Ç—å—Å—è**
   - 3 —é–∑–µ—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–ª–∏ Electron –∫–ª—ñ—î–Ω—Ç
   - 3 —é–∑–µ—Ä–∏ –∑–∞–π—à–ª–∏ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä (`http://192.168.x.x:5173`)
4. **–ì—Ä–∞ –π–¥–µ**
   - –í—Å—ñ –∑–º—ñ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ —Ñ–∞–π–ª–∏
5. **–ê–¥–º—ñ–Ω –∑–∞–∫—Ä–∏–≤–∞—î –¥–æ–¥–∞—Ç–æ–∫**
   - –í—Å—ñ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≤—ñ–¥–∫–ª—é—á–∞—é—Ç—å—Å—è
   - **–î–∞–Ω—ñ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –Ω–∞ –¥–∏—Å–∫—É**
6. **–ê–¥–º—ñ–Ω –≤—ñ–¥–∫—Ä–∏–≤–∞—î –¥–æ–¥–∞—Ç–æ–∫ –∑–Ω–æ–≤—É**
   - –í—Å—ñ –¥–∞–Ω—ñ –≤—ñ–¥–Ω–æ–≤–ª—é—é—Ç—å—Å—è (—Ç—É—Ä–Ω—ñ—Ä, —Å—Ç–∞–≤–∫–∏, —á–∞—Ç, –±–∞–ª–∞–Ω—Å–∏)
   - –ü—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è –∑ —Ç–æ–≥–æ –∂ –º—ñ—Å—Ü—è!

### –°—Ü–µ–Ω–∞—Ä—ñ–π 2: –í–µ–±-–≤–µ—Ä—Å—ñ—è —è–∫ —Ö–æ—Å—Ç

1. **–ê–¥–º—ñ–Ω –∑–∞–ø—É—Å–∫–∞—î** `npm run dev`
   - Backend: `http://0.0.0.0:3000`
   - Frontend: `http://0.0.0.0:5173`
2. **–î–∏–≤–∏—Ç—å—Å—è —Å–≤—ñ–π IP**: `ifconfig | grep "inet " | grep -v 127.0.0.1`
3. **–î—ñ–ª–∏—Ç—å—Å—è –∞–¥—Ä–µ—Å–æ—é**: `http://192.168.31.172:5173`
4. **–Ü–Ω—à—ñ –ø—ñ–¥–∫–ª—é—á–∞—é—Ç—å—Å—è** —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

## –ü–æ—Ä—Ç–∏ (–¥–µ—Ñ–æ–ª—Ç–Ω—ñ, –Ω–µ —Ä–µ–º–∞–ø—è—Ç—å—Å—è):

| –°–µ—Ä–≤—ñ—Å | –ü–æ—Ä—Ç | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|--------|------|-------------|
| Backend | 3000 | Socket.IO + API |
| Frontend | 5173 | Vite dev / static |
| Tests | 3333 | –¢–µ—Å—Ç–æ–≤–∏–π backend |

## –¢–µ—Å—Ç–∏:

‚úÖ Smoke tests –ø—Ä–æ—Ö–æ–¥—è—Ç—å
‚úÖ Server –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –Ω–∞ `0.0.0.0`
‚úÖ –î–∞–Ω—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
‚úÖ Pre-push hook –ø—Ä–∞—Ü—é—î

## –ë—ñ–ª–¥:

**–ì–æ—Ç–æ–≤–∏–π DMG:**
```
dist-electron/–¢—É—Ä–Ω—ñ—Ä-1.0.0-Mac-arm64.dmg  (Apple Silicon)
dist-electron/–¢—É—Ä–Ω—ñ—Ä-1.0.0-Mac-x64.dmg    (Intel)
```

## –Ø–∫ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏:

### –¢–µ—Å—Ç 1: –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å
```bash
# 1. –ó–∞–ø—É—Å—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫
open dist-electron/–¢—É—Ä–Ω—ñ—Ä-1.0.0-Mac-arm64.dmg

# 2. –ó–∞–ª–æ–≥—ñ–Ω—Å—è —è–∫ –∞–¥–º—ñ–Ω (admin:Whitepower1488)
# 3. –ó—Ä–æ–±–∏ —è–∫–∏–π—Å—å –ø—Ä–æ–≥—Ä–µ—Å (—Å—Ç–∞–≤–∫—É, –º–∞—Ç—á, —á–∞—Ç)
# 4. –ó–∞–∫—Ä–∏–π –¥–æ–¥–∞—Ç–æ–∫
# 5. –í—ñ–¥–∫—Ä–∏–π –¥–æ–¥–∞—Ç–æ–∫ –∑–Ω–æ–≤—É
# 6. –í—Å—ñ –¥–∞–Ω—ñ –º–∞—é—Ç—å –±—É—Ç–∏ –Ω–∞ –º—ñ—Å—Ü—ñ! ‚úÖ
```

### –¢–µ—Å—Ç 2: –ú–µ—Ä–µ–∂–∞
```bash
# 1. –ó–∞–ø—É—Å—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫ –Ω–∞ Mac
# 2. –ö–ª—ñ–∫–Ω–∏ "üì° –ê–¥—Ä–µ—Å–∞"
# 3. –°–∫–æ–ø—ñ—é–π –∞–¥—Ä–µ—Å—É (http://192.168.x.x:5173)
# 4. –í—ñ–¥–∫—Ä–∏–π –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ
# 5. –ú–∞—î –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è! ‚úÖ
```

### –¢–µ—Å—Ç 3: –í–µ–± + Electron —Ä–∞–∑–æ–º
```bash
# –ù–∞ Mac:
npm run dev

# –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ 1:
–ë—Ä–∞—É–∑–µ—Ä ‚Üí http://192.168.x.x:5173

# –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ 2:
–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Electron DMG —ñ –∑–∞–ø—É—Å—Ç–∏—Ç–∏

# –í—Å—ñ –º–∞—é—Ç—å –±–∞—á–∏—Ç–∏ –æ–¥–∏–Ω —ñ —Ç–æ–π –∂–µ —Å—Ç–∞–Ω! ‚úÖ
```

## –©–æ –¥–∞–ª—ñ:

–¢–µ–ø–µ—Ä –∞–ø–∫–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é –≥–æ—Ç–æ–≤–∞:
- ‚úÖ Electron desktop –¥–ª—è –∞–¥–º—ñ–Ω–∞
- ‚úÖ –í–µ–±-–≤–µ—Ä—Å—ñ—è –¥–ª—è —é–∑–µ—Ä—ñ–≤
- ‚úÖ –ü–æ–≤–Ω–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å
- ‚úÖ –ú–µ—Ä–µ–∂–µ–≤–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
- ‚úÖ –¢–µ—Å—Ç–∏ + pre-push hook

**–í—Å—Ç–∞–Ω–æ–≤–ª—é–π DMG —ñ —Ç–µ—Å—Ç—É–π!** üöÄ
